<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="inc/layout">

    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ì£¼ì˜ì˜í™” íˆ¬í‘œ - ì˜í™”ì˜ë´„</title>
    <script src="/js/2weeks/list.js" defer></script>
    <link rel="stylesheet" href="/css/2weeks/list.css">
</head>
<body>
    <main layout:fragment="main" class="media">
        <section class="media-sect media-mobile">
            <h1 class="d:none">ë©”ì¸</h1>
            <section class="">
                <h1 class="d:none">ì»¨í…ì¸ </h1>
                <div class="d:flex jc:center">
                    <span class="n-font fw:3 fs:6 txt-al:center">ì´ë²ˆì£¼ì˜ í…Œë§ˆëŠ” </span>
                    <span class="n-font  fw:3 fs:6 txt-al:center genre-text" th:text="${g}"></span>
                    <div th:switch="${g}">
                        <span th:case="'SF'" class="genre-sf"></span>
                        <span th:case="'ê°€ì¡±'" class="genre-family"></span>
                        <span th:case="'ê³µì—°'" class="genre-performance"></span>
                        <span th:case="'ê³µí¬'" class="genre-horror"></span>
                        <span th:case="'ê¸°íƒ€'" class="genre-etc"></span>
                        <span th:case="'ë‹¤íë©˜í„°ë¦¬'" class="genre-documentary"></span>
                        <span th:case="'ë“œë¼ë§ˆ'" class="genre-drama"></span>
                        <span th:case="'ë©œë¡œ/ë¡œë§¨ìŠ¤'" class="genre-romance"></span>
                        <span th:case="'ë®¤ì§€ì»¬'" class="genre-musical"></span>
                        <span th:case="'ë¯¸ìŠ¤í„°ë¦¬'" class="genre-mystery"></span>
                        <span th:case="'ë²”ì£„'" class="genre-crime"></span>
                        <span th:case="'ì‚¬ê·¹'" class="genre-historical"></span>
                        <span th:case="'ì„œë¶€ê·¹'" class="genre-western"></span>
                        <span th:case="'ìŠ¤ë¦´ëŸ¬'" class="genre-thriller"></span>
                        <span th:case="'ì• ë‹ˆë©”ì´ì…˜'" class="genre-animation"></span>
                        <span th:case="'ì•¡ì…˜'" class="genre-action"></span>
                        <span th:case="'ì–´ë“œë²¤ì²˜'" class="genre-adventure"></span>
                        <span th:case="'ì „ìŸ'" class="genre-war"></span>
                        <span th:case="'ì½”ë¯¸ë””'" class="genre-comedy"></span>
                        <span th:case="'íŒíƒ€ì§€'" class="genre-fantasy"></span>
                        <!-- ë‹¤ë¥¸ ì¥ë¥´ì— ëŒ€í•œ ìƒ‰ìƒ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ì¼€ì´ìŠ¤ë¥¼ ì—¬ê¸°ì— ì¶”ê°€í•˜ì„¸ìš”. -->
                    </div>
                    <span class="n-font fw:3 fs:6 txt-al:center">ì˜í™” ì…ë‹ˆë‹¤!</span>

                </div>
            <!-- <h1 class="fw:3 fs:6 txt-al:center  n-font " th:text="'ì´ë²ˆì£¼ ì˜í™”ì˜ í…Œë§ˆëŠ” '+${g}+'ì˜í™” ì…ë‹ˆë‹¤'">í…Œë§ˆ</h1> -->
            <!-- <div  th:if="${param.error}"> -->
            </div>

            <div th:if="${error == 'duplicate'}">
                <script>
                    alert("ë”ì´ìƒ íˆ¬í‘œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ìŒì£¼ ì˜í™”ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”!");
                </script>
            </div>

            <section class="d:flex fl-wrap:wrap jc:center my:9 bd-top">
                <h1 class="d:none">ì»¨í…ì¸ </h1>
                <section th:each="m:${Tm}" class="py:6 mx:10 p:2 bd-radius:3 box-shadow:1 my:4">
                    <h1 class="d:none">ì˜í™”ëª©ë¡</h1>
                    <div class="">
                        <div class=" w:5 mx:2">
                            <img class="bd-radius:1 box-shadow:1"
                            src="" th:src="${m.posterUrl != null ? m.posterUrl : '/image/no_image_poster.png'}" 
                            alt="/" width="247.69px" height="361.54px">
                        </div>
                        <div class="max-w:10 ">
                            <div class=" d:flex ai:center">
                                <h2 class="d:none">ì˜í™”ì •ë³´</h2>
                                <div class="d:flex fl-wrap:wrap">
                                    <div class="fw:3 fs:7 " th:text="${m.korName}" >ì˜í™”ì œëª©</div>
                                </div>
                                <div th:switch="${m.watchGrade}" class="ai:center position:relative display:inline-block bd-color:base-10  m-left:1">
                                        <span><svg class="watch-grade-position" width="27px" height="27px" th:case="'ì „ì²´ê´€ëŒê°€'" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" x="0px" y="0px" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500"><path d="M443.642 500H56.38C25.256 500 0 474.764 0 443.632V56.368C0 25.235 25.256 0 56.379 0h387.263C474.775 0 500 25.235 500 56.368v387.264C500 474.764 474.775 500 443.642 500" style="fill:#00964b"/><path d="m144.95 378.216-6.064-38.323-44.366.01-6.064 38.292-57.17.02v-.687l54.138-256.2h62.527l54.138 256.22.02.668h-57.16zm-28.257-174.19-14.129 87.439h28.247l-14.118-87.439zM212.167 378.213V121.316h57.17v205.447h67.246v51.45zM348.693 378.199V121.312l57.17.01-.03 205.447h67.277v51.461z" style="fill:#fff"/></svg></span>
                                        <span><svg class="watch-grade-position" width="27px" height="27px" th:case="'12ì„¸ì´ìƒê´€ëŒê°€'" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" x="0px" y="0px" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500"><path d="M443.617 500H56.373C25.24 500 0 474.77 0 443.648V56.373C0 25.24 25.241 0 56.373 0h387.244C474.738 0 500 25.241 500 56.373v387.275C500 474.769 474.738 500 443.617 500" style="fill:#eabc00"/><path d="M108.175 422.27V173.766H80.664l35.629-96.046h69.009v344.55zM407.596 77.719H219.137a7.695 7.695 0 0 0-7.695 7.695v104.143h75.332v-46.903H340v41.477l-131.272 187.18v50.535h205.686v-67.224H304.372l96.045-134.841c3.012-4.22 5.405-7.891 7.22-11.058 1.816-3.157 3.312-6.22 4.519-9.253 1.186-2.992 2.021-6.303 2.465-9.913.464-3.61.67-7.963.67-13.08V85.414a7.689 7.689 0 0 0-7.695-7.695" style="fill:#fff"/></svg></span>
                                        <span><svg class="watch-grade-position" width="27px" height="27px" th:case="'15ì„¸ì´ìƒê´€ëŒê°€'" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" x="0px" y="0px" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500"><path d="M443.638 500H56.352C25.252 500 0 474.759 0 443.638V56.362C0 25.242 25.252 0 56.352 0h387.286C474.768 0 500 25.241 500 56.362v387.276c0 31.12-25.231 56.362-56.362 56.362" style="fill:#dc7317"/><path d="M107.957 422.277V173.783H80.436l35.619-96.076h69.04v344.57zM407.825 195.418H286.972v-50.514h126.3V77.701H211.217v183.56h129.446v96.055h-54.578v-45.109h-74.868v102.358c0 4.25 3.456 7.695 7.705 7.695H407.825a7.695 7.695 0 0 0 7.695-7.695V203.114a7.695 7.695 0 0 0-7.695-7.696" style="fill:#fff"/></svg></span>
                                        <span><svg class="watch-grade-position" width="27px" height="27px" th:case="'ì²­ì†Œë…„ê´€ëŒë¶ˆê°€'" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" x="0px" y="0px" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500"><path d="M443.62 500H56.35C25.21 500 0 474.79 0 443.65V56.37C0 25.24 25.21 0 56.35 0h387.27c31.13 0 56.36 25.24 56.36 56.37v387.28c0 31.14-25.23 56.35-56.36 56.35" style="fill:#d61d28"/><path d="M105.917 422.269V173.764h-27.52l35.648-96.051h68.975v344.556zM416.625 281.105c-.588-4.198-1.64-7.818-3.136-10.82a23.291 23.291 0 0 0-6.096-7.674c-2.548-2.104-5.787-4.198-9.686-6.302l-22.992-10.82 22.992-12.193c6.911-4.208 11.8-8.86 14.658-13.976 2.846-5.106 4.26-12.77 4.26-22.992V85.403a7.695 7.695 0 0 0-7.695-7.695H217.332c-4.25 0-7.705 3.445-7.705 7.695v110.925c0 9.892 1.454 17.504 4.291 22.754 2.857 5.292 7.757 10.006 14.647 14.214l23.002 12.193-23.002 10.82c-7.84 4.198-12.997 9.18-15.555 14.863-2.547 5.735-3.827 14.142-3.827 25.282V414.569c0 4.25 3.456 7.705 7.706 7.705h192.97c4.239 0 7.684-3.456 7.684-7.705V296.454c0-6.024-.31-11.14-.918-15.349m-75.752 69.883c0 4.25-3.456 7.685-7.695 7.685h-39.61c-4.238 0-7.704-3.435-7.704-7.685v-68.954c0-4.25 3.466-7.695 7.705-7.695h39.609c4.24 0 7.695 3.445 7.695 7.695v68.954zm0-141.91c0 4.249-3.456 7.694-7.695 7.694h-39.61c-4.238 0-7.704-3.445-7.704-7.695v-60.3c0-4.24 3.466-7.685 7.705-7.685h39.609c4.24 0 7.695 3.445 7.695 7.685v60.3z" style="fill:#fff"/></svg></span>
                                </div>
                            </div>
                            <div class="m-top:4">
                                <div>
                                    <div th:text="${#dates.format(m.releaseDate, 'yyyy')} +' Â· '+ ${m.releaseNation} +' Â· '+ ${m.genre}">ê°œë´‰ì¼</div>
                                </div>
                                <div>
                                    <div th:text="'ìƒì˜ì‹œê°„ '+${m.runningTime}+' ë¶„'"></div>
                                </div>
                            </div>
                            <div class="">
                                <div class="n-progress n-progress-color:main txt-al:center color:base-1 w:auto box-shadow:1" role="progressbar w:10">
                                    <div th:if="${m.voteCount == 0}" th:style="'margin:0 auto; background: transparent; color:#262F45 !important; text-wrap: nowrap;'" class="ai:center text-wrap: nowrap h:1">0í‘œ</div>
                                    <div th:if="${m.voteCount != 0}" th:style="'width: ' + (${m.voteCount} * 100 / ${v}) + '%; text-wrap: nowrap;'" class="ai:center text-wrap: nowrap h:1" th:text="${m.voteCount}+í‘œ">1í‘œ</div>
                                </div>
                            </div>
                            
                                
                                
                            <div class="d:flex jc:center m-top:4">
                                <button sec:authorize="isAuthenticated()" class="modal-btn n-btn">íˆ¬í‘œí•˜ê¸°!</button>
                                <button sec:authorize="isAnonymous()" class="modal-btn n-btn   n-btn:outline box-shadow:1">íˆ¬í‘œí•˜ê¸°!</button>
                                <section sec:authorize="isAuthenticated()" class="modal n-modal d:none" tabindex="-1">
                                    <div class="m:4">
                                        <span class="n-font:subtitle text-align:center fs:5" th:text="'ì˜í™” &quot;'+${m.korName}+'&quot; ì¶”ì²œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'">ğŸ‘‹</span>
                                    </div>
                                    <div class="mx:4">
                                        <span class="fs:2  color:accent-1">ì£¼ì˜:2ì£¼ì˜ ì˜í™”ëŠ” ê³„ì •ë‹¹ 1íšŒíˆ¬í‘œë¥¼ ì œí•œí•˜ê³ ìˆìŠµë‹ˆë‹¤.</span>
                                    </div>
                                    <div class="mt:4 d:flex jc:space-between">
                                        <div class="m:2 d:flex">
                                            <button class="close-btn n-btn ">ì¢€ë” ê³ ë¯¼í• ë˜ìš”..</button>
                                        </div>
                                        <div class="m:2 d:flex">
                                            <form action="list" method="POST">
                                                <input type="hidden" name="movieId" th:value="${m.id}" />
                                                <input type="hidden" name="memberId" th:value="${#authentication.principal.id}" />
                                                <button type="submit" name="vote" class=" submit-btn n-btn">ì¶”ì²œí•©ë‹ˆë‹¤ì´!!</button>
                                            </form>
                                        </div>
                                    </div>
                                </section>
                                <section sec:authorize="isAnonymous()" class="modal n-modal d:none" tabindex="-1">
                                    <span class="n-font:subtitle text-align:center">ë¡œê·¸ì¸ í›„ ì´ìš©í• ìˆ˜ìˆìŠµë‹ˆë‹¤ì´ . . </span>
                                    <div class="mt:4">
                                        <div class="m:2">
                                            <a href="/user/signin">
                                                <button class="close-btn n-btn w:5">ë¡œê·¸ì¸ ê³ ê³ í˜“</button>
                                            </a>
                                        </div>
                                    </div>
                                </section>
                                <div class="modal-backdrop backdrop d:none"></div>
                            </div>
                       </div>
                    </div>
                </section>
            </section>
            <div class="d:flex jc:center my:6">
                <a href="/2weeks/movie">
                    <button class="n-btn mx:auto h:1 box-shadow:1">2ì£¼ì˜ì˜í™” í™ˆìœ¼ë¡œ</button>
                </a>
            </div>
        </section>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
    var genreText = document.querySelector('.genre-text');
    var genre = genreText.textContent.trim();
    genre = genre.replace(/'/g, ''); // ì‘ì€ ë”°ì˜´í‘œ ì œê±°

    // ê° ì¥ë¥´ì— ëŒ€í•œ í´ë˜ìŠ¤ì™€ ìƒ‰ìƒ ì„¤ì •
    switch(genre) {
        case 'SF':
            genreText.classList.add('genre-sf');
            break;
        case 'ê°€ì¡±':
            genreText.classList.add('genre-family');
            break;
        case 'ê³µì—°':
            genreText.classList.add('genre-performance');
            break;
        case 'ê³µí¬':
            genreText.classList.add('genre-horror');
            break;
        case 'ê¸°íƒ€':
            genreText.classList.add('genre-etc');
            break;
        case 'ë‹¤íë©˜í„°ë¦¬':
            genreText.classList.add('genre-documentary');
            break;
        case 'ë“œë¼ë§ˆ':
            genreText.classList.add('genre-drama');
            break;
        case 'ë©œë¡œ/ë¡œë§¨ìŠ¤':
            genreText.classList.add('genre-romance');
            break;
        case 'ë®¤ì§€ì»¬':
            genreText.classList.add('genre-musical');
            break;
        case 'ë¯¸ìŠ¤í„°ë¦¬':
            genreText.classList.add('genre-mystery');
            break;
        case 'ë²”ì£„':
            genreText.classList.add('genre-crime');
            break;
        case 'ì‚¬ê·¹':
            genreText.classList.add('genre-historical');
            break;
        case 'ì„œë¶€ê·¹':
            genreText.classList.add('genre-western');
            break;
        case 'ìŠ¤ë¦´ëŸ¬':
            genreText.classList.add('genre-thriller');
            break;
        case 'ì• ë‹ˆë©”ì´ì…˜':
            genreText.classList.add('genre-animation');
            break;
        case 'ì•¡ì…˜':
            genreText.classList.add('genre-action');
            break;
        case 'ì–´ë“œë²¤ì²˜':
            genreText.classList.add('genre-adventure');
            break;
        case 'ì „ìŸ':
            genreText.classList.add('genre-war');
            break;
        case 'ì½”ë¯¸ë””':
            genreText.classList.add('genre-comedy');
            break;
        case 'íŒíƒ€ì§€':
            genreText.classList.add('genre-fantasy');
            break;
        default:
            break;
    }
});

        </script>
        </section>
    </main>
</body>

</html>