<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="inc/layout">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${{c.name}}+Í≤åÏãúÌåê+' - '+ÏòÅÌôîÏùòÎ¥Ñ">Document</title>
    <style>
        .title-line-height{
            height: 26px;
            line-height: 26px;
        }
        .search-icon-position{
            right: 10px;
            top:10px;
        }
        button {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <main layout:fragment="main">
        <!-- <div style="height: 300px; width: 100px; background-color: red ;"></div>
    </div> -->


        <section class="media color:base-10">
            <h1 class="d:none">Í≤åÏãúÍ∏Ä Î¶¨Ïä§Ìä∏</h1>
            <section class="media-sect-for-commu mt:8">
                <h1 class="title-line-height fw:bold fs:6 color:main-3" th:classappend="${c.name} == 'Ïù∏Í∏∞Í∏Ä' ? 'color:accent-1'" th:text="${(c.name == 'Ïù∏Í∏∞Í∏Ä' || c.name == 'ÍµøÏ¶à&Ìè¨Ïä§ÌÑ∞ ') ? (c.name == 'Ïù∏Í∏∞Í∏Ä' ? 'üî•' + c.name : c.name+'Í≤åÏãúÌåê') : c.name+'Í≤åÏãúÌåê'}">Ïù∏Í∏∞Í∏Ä</h1>
                <nav class="d:flex">
                    <ul class="n-tabbar jc:end n-tabbar-type:outline">
                        <li th:each="ctgList, stat : ${ctgList}" th:classappend="${c.name == ctgList.name ? 'active' : ''}">
                            <a th:text="${stat.first || ctgList.name == 'ÍµøÏ¶à&Ìè¨Ïä§ÌÑ∞ ' ? ctgList.name : ctgList.name+'Í≤åÏãúÌåê'}" th:href="@{list(c=${ctgList.engName})}">Ïπ¥ÌÖåÍ≥†Î¶¨ Î™©Î°ù</a>
                        </li>
                    </ul>
                </nav>
                <div>
                    <table class="mb:4 mt:4 n-table n-table-hover n-table-border n-table-border-radius:3 fw:3">
                        <colgroup>
                            <col style="width: 119px;"> <!--119-->
                            <col style="width: 445px;"> <!--445-->
                            <col style="width: 160px;"> <!--160-->
                            <col style="width: 80px;"> <!--80-->
                            <col style="width: 60px;"> <!--60-->
                            <col style="width: 116px;"> <!--116-->
                            <!-- Ï∂îÍ∞ÄÏ†ÅÏù∏ Ïó¥Ïóê ÎåÄÌïú ÎÑàÎπÑ ÏÑ§Ï†ï -->
                        </colgroup>
                        <thead class="">
                            <tr class="jc:space-around">
                                <th class="txt-al:center">Î∂ÑÎ•ò</th>
                                <th class="txt-al:center">Ï†úÎ™©</th>
                                <th class="txt-al:center">ÏûëÏÑ±Ïûê</th>
                                <th class="txt-al:center">Ï°∞Ìöå</th>
                                <th class="txt-al:center">Ï∂îÏ≤ú</th>
                                <th class="txt-al:center">ÏûëÏÑ±Ïùº</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="board:${list}">
                                <td class="txt-al:center py:1">
                                    <span class="d:inline-block icon-size bg-color:base-6 bd-radius:1 color:base-1 px:1 box-shadow:6"
                                        th:text="${c.name}">Ïπ¥ÌÖåÍ≥†Î¶¨ Ïù¥Î¶Ñ</span>
                                </td>
                                <td class="txt-al:start py:1 white-space:normal">
                                    <a href="" th:href="@{detail(c=${c.engName},id=${board.id})}" th:text="${board.title}">Í≤åÏãúÍ∏Ä Ï†úÎ™©</a>
                                    <span class=" color:base-6 fs:2" th:text="${board.commentCount > 0 ? '['+board.commentCount+']' :''}">[12]</span>
                                </td>
                                <td th:text="${board.nickname}" class="txt-al:center py:1">ÏûëÏÑ±Ïûê</td>
                                <td th:text="${board.hit}" class="txt-al:center py:1">Ï°∞ÌöåÏàò</td>
                                <td th:text="${board.likeCount}" class="txt-al:center py:1">123</td>
                                <td class="txt-al:center py:1" th:text="${#dates.format(board.regDate, 'yyyy.MM.dd')}">ÏûëÏÑ±Ïùº
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="position:relative d:flex jc:center my:3">
                        <!-- th:href="@{reg(categoryId=${list.id})}" -->
                        <section class="query-filter position:absolute" id="query-form">
                            <h1 class="d:none">Ïù¥Î¶Ñ Í≤ÄÏÉâ Ìèº</h1>
                            <form class="p:0 n-form n-form-type:outline-none"
                                  action="list">
                                <fieldset>
                                    <legend class="d:none">Ïù¥Î¶Ñ Í≤ÄÏÉâ</legend>
                                    <input class="query-input" type="text" name="q" placeholder="Í≤åÏãúÍ∏Ä Í≤ÄÏÉâ">
                                    <input class="d:none" type="text" name="c" th:value="${c.engName}">
                                    <!-- <input type="hidden" name="u" value="${param.c}"> -->
                                    <button class="position:absolute search-icon-position fa-solid fa-magnifying-glass"></button>
                                </fieldset>
                            </form>
                        </section>
                        <!--ÎπÑÌöåÏõêÏù¥ ÏöîÏ≤≠Ïãú-->
                        <button sec:authorize="isAnonymous()" disabled type="button" class="ml:auto n-btn box-shadow:3">Î°úÍ∑∏Ïù∏ÌõÑ ÏûëÏÑ±</button>
                        <!--ÌöåÏõêÏù¥ ÏöîÏ≤≠Ïãú-->
                        <a sec:authorize="isAuthenticated()" class="ml:auto" th:href="@{reg(c=${c.engName})}" href="reg">
                            <button type="button" class="n-btn box-shadow:3">Í≤åÏãúÍ∏Ä ÏûëÏÑ±</button>
                        </a>
                    </div>
                </div>
                <section style="" class="">
                    <h1 class="d:none">ÌéòÏù¥Ï†Ä</h1>
                    <!-- <div style="display: flex; justify-content: center;" th:text="${param.p} eq null? 0:${param.p}">1</div> -->
                    <ul class="n-pager d:flex jc:center mb:5"
                        th:with="
                                page=${param.p} eq null ? 1 : ${{param.p}},
                                floatnum=(${page}-1)/5,
                                intnum=${T(java.lang.Math).floor(floatnum)},
                                startnum=${intnum}*5+1,
                                lastnum=${count} mod 20 > 0 ? ${count div 20} + 1 : ${count div 20},
                                lastnum=${lastnum} eq 0 ? 1 : ${lastnum},
                                startnum=${startnum} lt 1 ? 1 : ${startnum}">

                        <!-- Ïù¥Ï†Ñ Î≤ÑÌäº -->
                        <li>
                            <span th:if="${page} le 5" style="color: rgb(189, 189, 189)">Ïù¥Ï†Ñ</span>
                            <a th:if="${page} gt 5" th:href="@{list(p=${startnum-1}, q=${param.q}, c=${c.engName})}">Ïù¥Ï†Ñ</a>
                        </li>

                        <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ Î≤ÑÌäº -->
                        <li th:each="n, iterStat : ${#numbers.sequence(startnum, (lastnum < (startnum + 4)) ? lastnum : (startnum + 4))}"
                            th:class="${page} eq ${n} ? 'active' : ''">
                            <a th:href="@{list(p=${n}, q=${param.q}, c=${c.engName})}" th:text="${n}">1</a>
                        </li>

                        <!-- Îã§Ïùå Î≤ÑÌäº -->
                        <li>
                            <a th:if="${lastnum gt startnum + 4}" th:href="@{list(p=${startnum + 5}, q=${param.q}, c=${c.engName})}">Îã§Ïùå</a>
                            <span th:if="${lastnum le startnum + 4}" style="color: rgb(189, 189, 189)">Îã§Ïùå</span>
                        </li>
                    </ul>
                </section>
            </section>
        </section>
        </div>
    </main>
</body>

</html>